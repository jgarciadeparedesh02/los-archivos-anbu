---
title: "UT3: Creación y manejo de componentes con Angular-Ionic"
description: Desarrollo de aplicaciones móviles y web con Angular e Ionic.
sidebar:
  label: Creación y manejo de componentes con Angular-Ionic
  order: 3
---
# UT3: Creación y manejo de componentes con Angular-Ionic

Esta unidad se centra en el desarrollo de aplicaciones móviles y web utilizando Angular e Ionic, aprendiendo a crear y gestionar componentes. Exploraremos cómo estos dos potentes frameworks se complementan para permitir la construcción de aplicaciones multiplataforma con una base de código única, optimizando el tiempo de desarrollo y la mantenibilidad.

## 1. Introducción a Angular

Angular es un framework de desarrollo de aplicaciones web de código abierto, mantenido por Google. Es una plataforma completa para construir aplicaciones de una sola página (SPA) y aplicaciones empresariales a gran escala. Angular se basa en TypeScript, un superconjunto de JavaScript que añade tipado estático y otras características orientadas a objetos, lo que mejora la robustez y escalabilidad del código.

### 1.1. Arquitectura de Angular

La arquitectura de Angular se basa en varios conceptos clave:

*   **Módulos (NgModules):** Organizan la aplicación en bloques de funcionalidad cohesivos. Cada aplicación Angular tiene al menos un módulo raíz (`AppModule`).
*   **Componentes:** Son los bloques de construcción fundamentales de la interfaz de usuario. Cada componente consta de una plantilla HTML, estilos CSS y una clase TypeScript que contiene la lógica.
*   **Servicios:** Clases que encapsulan lógica de negocio, acceso a datos o cualquier funcionalidad que deba ser compartida entre componentes. Se inyectan en los componentes mediante la inyección de dependencias.
*   **Inyección de Dependencias:** Un patrón de diseño que permite a los componentes y servicios solicitar sus dependencias en lugar de crearlas, lo que facilita la modularidad y la prueba.
*   **Data Binding:** Mecanismo para sincronizar datos entre el modelo (clase TypeScript) y la vista (plantilla HTML). Angular soporta data binding unidireccional (interpolación, property binding, event binding) y bidireccional (`ngModel`).
*   **Directivas:** Clases que añaden comportamiento a los elementos del DOM. Angular tiene directivas estructurales (`*ngIf`, `*ngFor`) que modifican la estructura del DOM, y directivas de atributo (`ngClass`, `ngStyle`) que cambian la apariencia o el comportamiento de un elemento.

### 1.2. Creación de Componentes en Angular

Los componentes son el corazón de cualquier aplicación Angular. Se crean utilizando el decorador `@Component`.

```typescript
// src/app/mi-componente/mi-componente.component.ts
import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-mi-componente',
  templateUrl: './mi-componente.component.html',
  styleUrls: ['./mi-componente.component.css']
})
export class MiComponenteComponent implements OnInit {
  titulo: string = 'Hola desde mi componente';

  constructor() { }

  ngOnInit(): void {
    // Lógica de inicialización del componente
  }

  cambiarTitulo(): void {
    this.titulo = 'Título cambiado!';
  }
}
```

```html
<!-- src/app/mi-componente/mi-componente.component.html -->
<div>
  <h2>{{ titulo }}</h2>
  <button (click)="cambiarTitulo()">Cambiar Título</button>
</div>
```

## 2. Introducción a Ionic Framework

Ionic es un framework de UI de código abierto para construir aplicaciones móviles y de escritorio de alto rendimiento utilizando tecnologías web (HTML, CSS, JavaScript). Se integra perfectamente con frameworks como Angular, React y Vue.js, permitiendo a los desarrolladores crear aplicaciones nativas de iOS y Android, así como Progressive Web Apps (PWAs) y aplicaciones de escritorio, desde una única base de código.

### 2.1. Características Clave de Ionic

*   **Componentes UI:** Ofrece una vasta biblioteca de componentes UI preconstruidos y estilizados que imitan la apariencia y el comportamiento de los elementos nativos de iOS y Android (botones, listas, tarjetas, barras de navegación, etc.).
*   **Adaptabilidad:** Los componentes de Ionic se adaptan automáticamente al estilo de la plataforma en la que se ejecutan (iOS o Android), proporcionando una experiencia de usuario nativa.
*   **Capacitor/Cordova:** Utiliza Capacitor (el estándar actual) o Apache Cordova para acceder a las API nativas del dispositivo (cámara, GPS, contactos, etc.) desde código web.
*   **Integración con Frameworks:** Diseñado para funcionar sin problemas con Angular, React y Vue.js, aprovechando sus ecosistemas y herramientas.
*   **PWAs:** Facilita la creación de Progressive Web Apps, que ofrecen una experiencia similar a la de una aplicación nativa directamente desde el navegador.

### 2.2. Configuración de un Proyecto Angular-Ionic

Para empezar con un proyecto Angular-Ionic, se utiliza la CLI de Ionic:

```bash
npm install -g @ionic/cli
ionic start miApp blank --type=angular
cd miApp
ionic serve
```

Este comando crea un nuevo proyecto Ionic con Angular, utilizando una plantilla en blanco, e instala las dependencias necesarias. `ionic serve` inicia un servidor de desarrollo para previsualizar la aplicación en el navegador.

## 3. Creación y Manejo de Componentes en Angular-Ionic

La combinación de Angular e Ionic permite construir interfaces ricas y funcionales. Los componentes de Ionic se utilizan dentro de las plantillas de Angular, y la lógica se gestiona con TypeScript.

### 3.1. Uso de Componentes Ionic en Angular

Los componentes de Ionic se utilizan como etiquetas HTML normales en las plantillas de Angular. Por ejemplo, para un botón:

```html
<!-- src/app/home/home.page.html -->
<ion-header>
  <ion-toolbar>
    <ion-title>Mi Aplicación Ionic</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <h1>Bienvenido a Ionic con Angular</h1>
  <ion-button expand="block" (click)="showAlert()">Mostrar Alerta</ion-button>
</ion-content>
```

```typescript
// src/app/home/home.page.ts
import { Component } from '@angular/core';
import { AlertController } from '@ionic/angular';

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
})
export class HomePage {
  constructor(private alertController: AlertController) {}

  async showAlert() {
    const alert = await this.alertController.create({
      header: 'Alerta',
      message: '¡Hola desde Ionic!',
      buttons: ['OK'],
    });
    await alert.present();
  }
}
```

En este ejemplo, `ion-header`, `ion-toolbar`, `ion-title`, `ion-content` y `ion-button` son componentes de Ionic. La lógica para mostrar una alerta se maneja en la clase TypeScript, utilizando el servicio `AlertController` de Ionic.

### 3.2. Componentes Personalizados y Reutilización

Además de los componentes de Ionic, puedes crear tus propios componentes de Angular para encapsular lógica y UI específicas de tu aplicación. Estos componentes personalizados pueden utilizar componentes de Ionic internamente.

Por ejemplo, un componente `CardProducto` que muestra información de un producto:

```typescript
// src/app/components/product-card/product-card.component.ts
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-product-card',
  template: `
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{ product.name }}</ion-card-title>
        <ion-card-subtitle>{{ product.category }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <p>{{ product.description }}</p>
        <ion-button expand="block">Ver Detalles</ion-button>
      </ion-card-content>
    </ion-card>
  `,
  styleUrls: ['./product-card.component.scss'],
})
export class ProductCardComponent {
  @Input() product: any;
}
```

Este componente `ProductCardComponent` recibe un objeto `product` como entrada (`@Input()`) y utiliza componentes de Ionic (`ion-card`, `ion-card-header`, etc.) para renderizar la información. Esto promueve la reutilización y la modularidad.

## 4. Navegación y Enrutamiento en Angular-Ionic

La navegación es un aspecto fundamental de cualquier aplicación. Angular proporciona un potente módulo de enrutamiento, y Ionic lo integra para gestionar la navegación entre páginas.

### 4.1. Configuración de Rutas en Angular

Las rutas se definen en el archivo `app-routing.module.ts` (o módulos de enrutamiento específicos de características):

```typescript
// src/app/app-routing.module.ts
import { NgModule } from '@angular/core';
import { PreloadAllModules, RouterModule, Routes } from '@angular/router';

const routes: Routes = [
  {
    path: 'home',
    loadChildren: () => import('./home/home.module').then(m => m.HomePageModule)
  },
  {
    path: 'details/:id',
    loadChildren: () => import('./details/details.module').then(m => m.DetailsPageModule)
  },
  {
    path: '',
    redirectTo: 'home',
    pathMatch: 'full'
  }
];

@NgModule({
  imports: [
    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })
  ],
  exports: [RouterModule]
})
export class AppRoutingModule { }
```

Ionic utiliza el enrutador de Angular, pero añade sus propias características para gestionar las transiciones de página y la pila de navegación, lo que es crucial para la experiencia móvil.

### 4.2. Navegación Programática y Declarativa

*   **Navegación Declarativa:** Se realiza utilizando el atributo `routerLink` en las plantillas HTML:
    ```html
    <ion-button [routerLink]="['/details', 123]">Ir a Detalles</ion-button>
    ```
*   **Navegación Programática:** Se utiliza el servicio `Router` de Angular en la lógica del componente:
    ```typescript
    import { Router } from '@angular/router';

    // ...
    constructor(private router: Router) { }

    goToDetails(id: number) {
      this.router.navigate(['/details', id]);
    }
    ```

## 5. Acceso a Funcionalidades Nativas con Capacitor

Capacitor es una interfaz de código abierto para ejecutar aplicaciones web en plataformas nativas (iOS, Android, Web, Electron). Permite acceder a las API nativas del dispositivo utilizando un conjunto de plugins JavaScript.

### 5.1. Instalación y Uso de Plugins de Capacitor

Para añadir un plugin de Capacitor, primero se instala:

```bash
npm install @capacitor/camera
npx cap sync
```

Luego, se puede utilizar en el código Angular:

```typescript
// src/app/camera/camera.page.ts
import { Component } from '@angular/core';
import { Camera, CameraResultType, CameraSource } from '@capacitor/camera';

@Component({
  selector: 'app-camera',
  template: `
    <ion-header>
      <ion-toolbar>
        <ion-title>Cámara</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-button expand="block" (click)="takePicture()">Tomar Foto</ion-button>
      <img *ngIf="imageUrl" [src]="imageUrl" />
    </ion-content>
  `,
})
export class CameraPage {
  imageUrl: string | undefined;

  constructor() { }

  async takePicture() {
    const image = await Camera.getPhoto({
      quality: 90,
      allowEditing: false,
      resultType: CameraResultType.Uri,
      source: CameraSource.Camera,
    });

    if (image.webPath) {
      this.imageUrl = image.webPath;
    }
  }
}
```

Este ejemplo muestra cómo usar el plugin de la cámara de Capacitor para tomar una foto y mostrarla en la interfaz. Capacitor abstrae las diferencias entre las API nativas de iOS y Android, permitiendo escribir código una sola vez.

## Conclusión

Angular e Ionic forman una combinación poderosa para el desarrollo de aplicaciones multiplataforma. Angular proporciona una estructura robusta y un ecosistema completo para la lógica de la aplicación, mientras que Ionic ofrece una rica biblioteca de componentes UI adaptables y la capacidad de acceder a funcionalidades nativas a través de Capacitor. Dominar la creación y el manejo de componentes en este entorno es esencial para construir aplicaciones modernas, eficientes y con una excelente experiencia de usuario, tanto en la web como en dispositivos móviles. Esta unidad te ha proporcionado los conocimientos fundamentales para empezar a desarrollar con esta potente combinación.